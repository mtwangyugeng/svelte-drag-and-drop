const $e=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};$e();function S(){}function xe(t,e){for(const n in e)t[n]=e[n];return t}function je(t){return t()}function we(){return Object.create(null)}function K(t){t.forEach(je)}function et(t){return typeof t=="function"}function j(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function tt(t){return Object.keys(t).length===0}function nt(t,...e){if(t==null)return S;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function H(t,e,n){t.$$.on_destroy.push(nt(e,n))}function Fe(t,e,n,l){if(t){const s=Ie(t,e,n,l);return t[0](s)}}function Ie(t,e,n,l){return t[1]&&l?xe(n.ctx.slice(),t[1](l(e))):n.ctx}function Ve(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],f=Math.max(e.dirty.length,s.length);for(let i=0;i<f;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Ye(t,e,n,l,s,r){if(s){const f=Ie(e,n,l,r);t.p(f,s)}}function Le(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function k(t,e){t.appendChild(e)}function M(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode.removeChild(t)}function v(t){return document.createElement(t)}function V(t){return document.createTextNode(t)}function X(){return V(" ")}function x(){return V("")}function I(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function E(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function lt(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function re(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function B(t,e,n){t.classList[n?"add":"remove"](e)}function st(t,e,n=!1){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,!1,e),l}let ee;function $(t){ee=t}function We(){if(!ee)throw new Error("Function called outside component initialization");return ee}function rt(t){We().$$.on_mount.push(t)}function it(){const t=We();return(e,n)=>{const l=t.$$.callbacks[e];if(l){const s=st(e,n);l.slice().forEach(r=>{r.call(t,s)})}}}const Q=[],te=[],ue=[],ke=[],ot=Promise.resolve();let ge=!1;function ut(){ge||(ge=!0,ot.then(He))}function he(t){ue.push(t)}const _e=new Set;let ie=0;function He(){const t=ee;do{for(;ie<Q.length;){const e=Q[ie];ie++,$(e),ct(e.$$)}for($(null),Q.length=0,ie=0;te.length;)te.pop()();for(let e=0;e<ue.length;e+=1){const n=ue[e];_e.has(n)||(_e.add(n),n())}ue.length=0}while(Q.length);for(;ke.length;)ke.pop()();ge=!1,_e.clear(),$(t)}function ct(t){if(t.fragment!==null){t.update(),K(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(he)}}const ce=new Set;let z;function ne(){z={r:0,c:[],p:z}}function le(){z.r||K(z.c),z=z.p}function T(t,e){t&&t.i&&(ce.delete(t),t.i(e))}function G(t,e,n,l){if(t&&t.o){if(ce.has(t))return;ce.add(t),z.c.push(()=>{ce.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}}function ze(t,e){t.d(1),e.delete(t.key)}function me(t,e){G(t,1,1,()=>{e.delete(t.key)})}function se(t,e,n,l,s,r,f,i,u,c,o,a){let h=t.length,D=r.length,y=h;const A={};for(;y--;)A[t[y].key]=y;const m=[],N=new Map,w=new Map;for(y=D;y--;){const b=a(s,r,y),O=n(b);let R=f.get(O);R?l&&R.p(b,e):(R=c(O,b),R.c()),N.set(O,m[y]=R),O in A&&w.set(O,Math.abs(y-A[O]))}const _=new Set,g=new Set;function d(b){T(b,1),b.m(i,o),f.set(b.key,b),o=b.first,D--}for(;h&&D;){const b=m[D-1],O=t[h-1],R=b.key,W=O.key;b===O?(o=b.first,h--,D--):N.has(W)?!f.has(R)||_.has(R)?d(b):g.has(W)?h--:w.get(R)>w.get(W)?(g.add(R),d(b)):(_.add(W),h--):(u(O,f),h--)}for(;h--;){const b=t[h];N.has(b.key)||u(b,f)}for(;D;)d(m[D-1]);return m}function F(t){t&&t.c()}function q(t,e,n,l){const{fragment:s,on_mount:r,on_destroy:f,after_update:i}=t.$$;s&&s.m(e,n),l||he(()=>{const u=r.map(je).filter(et);f?f.push(...u):K(u),t.$$.on_mount=[]}),i.forEach(he)}function P(t,e){const n=t.$$;n.fragment!==null&&(K(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){t.$$.dirty[0]===-1&&(Q.push(t),ut(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(t,e,n,l,s,r,f,i=[-1]){const u=ee;$(t);const c=t.$$={fragment:null,ctx:null,props:r,update:S,not_equal:s,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:we(),dirty:i,skip_bound:!1,root:e.target||u.$$.root};f&&f(c.root);let o=!1;if(c.ctx=n?n(t,e.props||{},(a,h,...D)=>{const y=D.length?D[0]:h;return c.ctx&&s(c.ctx[a],c.ctx[a]=y)&&(!c.skip_bound&&c.bound[a]&&c.bound[a](y),o&&ft(t,a)),h}):[],c.update(),o=!0,K(c.before_update),c.fragment=l?l(c.ctx):!1,e.target){if(e.hydrate){const a=lt(e.target);c.fragment&&c.fragment.l(a),a.forEach(C)}else c.fragment&&c.fragment.c();e.intro&&T(t.$$.fragment),q(t,e.target,e.anchor,e.customElement),He()}$(u)}class L{$destroy(){P(this,1),this.$destroy=S}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!tt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function at(t){let e,n,l,s,r,f,i,u,c,o;return{c(){e=v("section"),n=v("div"),l=v("div"),s=V("Player "),r=V(t[0]),f=V(" win!"),i=X(),u=v("button"),u.textContent="Play Again!",E(l,"class","Message svelte-1jrqnu6"),E(u,"class","Reset svelte-1jrqnu6"),E(n,"class","Window svelte-1jrqnu6"),E(e,"class","svelte-1jrqnu6"),B(e,"CurtainUp",t[1])},m(a,h){M(a,e,h),k(e,n),k(n,l),k(l,s),k(l,r),k(l,f),k(n,i),k(n,u),c||(o=I(u,"click",t[2]),c=!0)},p(a,[h]){h&1&&ae(r,a[0]),h&2&&B(e,"CurtainUp",a[1])},i:S,o:S,d(a){a&&C(e),c=!1,o()}}}function _t(t,e,n){let{winner:l="O"}=e,{reset:s}=e,r;const f=()=>{n(1,r=!0),setTimeout(()=>{s(),n(1,r=!1)},500)};return t.$$set=i=>{"winner"in i&&n(0,l=i.winner),"reset"in i&&n(3,s=i.reset)},[l,r,f,s]}class dt extends L{constructor(e){super(),Y(this,e,_t,at,j,{winner:0,reset:3})}}const Ue=200,U=[];function J(t,e=S){let n;const l=new Set;function s(i){if(j(t,i)&&(t=i,n)){const u=!U.length;for(const c of l)c[1](),U.push(c,t);if(u){for(let c=0;c<U.length;c+=2)U[c][0](U[c+1]);U.length=0}}}function r(i){s(i(t))}function f(i,u=S){const c=[i,u];return l.add(c),l.size===1&&(n=e(s)||S),i(t),()=>{l.delete(c),l.size===0&&(n(),n=null)}}return{set:s,update:r,subscribe:f}}function ve(t){let e;return{c(){e=v("div"),E(e,"class","Cover svelte-m24lnl")},m(n,l){M(n,e,l)},d(n){n&&C(e)}}}function gt(t){let e,n,l,s,r,f;const i=t[8].default,u=Fe(i,t,t[7],null);let c=!t[0]&&ve();return{c(){e=v("section"),n=v("span"),u&&u.c(),l=X(),c&&c.c(),E(n,"class","Placeholder"),E(e,"class","svelte-m24lnl")},m(o,a){M(o,e,a),k(e,n),u&&u.m(n,null),t[9](n),k(e,l),c&&c.m(e,null),t[10](e),s=!0,r||(f=I(n,"mousedown",t[3]),r=!0)},p(o,[a]){u&&u.p&&(!s||a&128)&&Ye(u,i,o,o[7],s?Ve(i,o[7],a,null):Le(o[7]),null),o[0]?c&&(c.d(1),c=null):c||(c=ve(),c.c(),c.m(e,null))},i(o){s||(T(u,o),s=!0)},o(o){G(u,o),s=!1},d(o){o&&C(e),u&&u.d(o),t[9](null),c&&c.d(),t[10](null),r=!1,f()}}}const Ee=J(0),Z=J(null),oe=J(null),de=J(null);function ht(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function mt(t,e,n){let l,s,r=S,f,i,u=S,c,o=S,a,h=S;H(t,Ee,p=>n(16,s=p)),H(t,Je,p=>n(17,f=p)),H(t,Z,p=>n(6,i=p)),H(t,de,p=>n(18,c=p)),H(t,oe,p=>n(19,a=p)),t.$$.on_destroy.push(()=>r()),t.$$.on_destroy.push(()=>u()),t.$$.on_destroy.push(()=>o()),t.$$.on_destroy.push(()=>h());let{$$slots:D={},$$scope:y}=e,{enabled:A=!0}=e,{getFocus:m=p=>{}}=e;const N=it();let w;const _=()=>{c||de.set(w)};fe.subscribe(p=>{p&&A?(ye(),ht(p,w)?(i==null?void 0:i.id)!==w.id&&(a==null?void 0:a.id)!==w.id&&(oe.set(i),Z.set(w),N("enter",{element:f})):(((a==null?void 0:a.id)===w.id||!i)&&oe.set(null),(i==null?void 0:i.id)===w.id&&(console.log(i==null?void 0:i.id,w.id),Z.set(null)))):(l&&(setTimeout(()=>{Z.set(null),oe.set(null),d.appendChild(f)},Ue),N("receive",{element:f})),(c==null?void 0:c.id)===(w==null?void 0:w.id)&&(de.set(null),l||i&&(console.log("lose",w==null?void 0:w.id),N("lose",{element:f}))))});let g,d,b,O,R,W,pe=s;Ee.update(p=>p+1),rt(()=>{ye()});const ye=()=>{const p=g.getBoundingClientRect();b=p.left,O=p.top;const be=d.getBoundingClientRect();R=be.left,W=be.top,w={id:pe,x:b,y:O,width:g.offsetWidth,height:g.offsetHeight,phX:R,phY:W}};function Qe(p){te[p?"unshift":"push"](()=>{d=p,n(2,d)})}function Ze(p){te[p?"unshift":"push"](()=>{g=p,n(1,g)})}return t.$$set=p=>{"enabled"in p&&n(0,A=p.enabled),"getFocus"in p&&n(4,m=p.getFocus),"$$scope"in p&&n(7,y=p.$$scope)},t.$$.update=()=>{t.$$.dirty&65&&n(5,l=pe===(i==null?void 0:i.id)&&A),t.$$.dirty&48&&m(l)},[A,g,d,_,m,l,i,y,D,Qe,Ze]}class Ke extends L{constructor(e){super(),Y(this,e,mt,gt,j,{enabled:0,getFocus:4})}}function pt(t){let e,n,l,s;const r=t[10].default,f=Fe(r,t,t[9],null);return{c(){e=v("span"),f&&f.c(),re(e,"top",t[2]+"px"),re(e,"left",t[1]+"px"),E(e,"class","svelte-1snv2mh"),B(e,"Rigid",!t[3]),B(e,"Dragging",t[3]),B(e,"GoBack",t[4])},m(i,u){M(i,e,u),f&&f.m(e,null),t[11](e),n=!0,l||(s=[I(window,"mousemove",t[6]),I(window,"touchmove",t[6]),I(window,"mouseup",t[7]),I(window,"touchend",t[7]),I(e,"mousedown",t[5]),I(e,"touchstart",t[5])],l=!0)},p(i,[u]){f&&f.p&&(!n||u&512)&&Ye(f,r,i,i[9],n?Ve(r,i[9],u,null):Le(i[9]),null),(!n||u&4)&&re(e,"top",i[2]+"px"),(!n||u&2)&&re(e,"left",i[1]+"px"),u&8&&B(e,"Rigid",!i[3]),u&8&&B(e,"Dragging",i[3]),u&16&&B(e,"GoBack",i[4])},i(i){n||(T(f,i),n=!0)},o(i){G(f,i),n=!1},d(i){i&&C(e),f&&f.d(i),t[11](null),l=!1,K(s)}}}const fe=J(null),Je=J(null);function yt(t,e,n){let l;H(t,Z,d=>n(16,l=d));let{$$slots:s={},$$scope:r}=e,f,i,u,c,o,a,h,{loadValue:D="loadValue shouldn't be empty."}=e,y=!1;const A=d=>{n(3,y=!0),d.type==="mousedown"?(n(1,u=d.clientX-a),n(2,c=d.clientY-h)):(n(1,u=d.touches[0].clientX-a),n(2,c=d.touches[0].clientY-h));const b=o.getBoundingClientRect();f=b.left,i=b.top,_()};let m=!1;const N=d=>{y&&!m&&(d.type==="mousemove"?(n(1,u=d.clientX-a),n(2,c=d.clientY-h)):(n(1,u=d.touches[0].clientX-a),n(2,c=d.touches[0].clientY-h)),_())},w=()=>{y&&(l?(n(1,u=l.phX),n(2,c=l.phY)):(n(1,u=f),n(2,c=i)),fe.set(null),n(4,m=!0),setTimeout(()=>{n(4,m=!1),n(3,y=!1)},Ue))},_=()=>{fe.set({x:u,y:c,width:o.offsetWidth,height:o.offsetHeight}),Je.set(o)};function g(d){te[d?"unshift":"push"](()=>{o=d,n(0,o),n(8,D)})}return t.$$set=d=>{"loadValue"in d&&n(8,D=d.loadValue),"$$scope"in d&&n(9,r=d.$$scope)},t.$$.update=()=>{t.$$.dirty&257&&o&&(a=o.offsetWidth/2,h=o.offsetHeight/2,n(0,o.attributes.loadValue=D,o))},[o,u,c,y,m,A,N,w,D,r,s,g]}class bt extends L{constructor(e){super(),Y(this,e,yt,pt,j,{loadValue:8})}}function Ce(t,e,n){const l=t.slice();return l[7]=e[n],l}function wt(t){let e,n,l;return{c(){e=v("button"),n=V(t[1]),l=X(),E(e,"class","svelte-uqx1ef")},m(s,r){M(s,e,r),k(e,n),M(s,l,r)},p(s,r){r&2&&ae(n,s[1])},d(s){s&&C(e),s&&C(l)}}}function Te(t){let e,n;return e=new bt({props:{loadValue:t[1],$$slots:{default:[wt]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},m(l,s){q(e,l,s),n=!0},p(l,s){const r={};s&2&&(r.loadValue=l[1]),s&1026&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){G(e.$$.fragment,l),n=!1},d(l){P(e,l)}}}function Me(t,e){let n,l=e[2],s,r,f=Te(e);return{key:t,first:null,c(){n=x(),f.c(),s=x(),this.first=n},m(i,u){M(i,n,u),f.m(i,u),M(i,s,u),r=!0},p(i,u){e=i,u&4&&j(l,l=e[2])?(ne(),G(f,1,1,S),le(),f=Te(e),f.c(),T(f),f.m(s.parentNode,s)):f.p(e,u)},i(i){r||(T(f),r=!0)},o(i){G(f),r=!1},d(i){i&&C(n),i&&C(s),f.d(i)}}}function kt(t){let e=[],n=new Map,l,s,r=t[3];const f=i=>i[7];for(let i=0;i<r.length;i+=1){let u=Ce(t,r,i),c=f(u);n.set(c,e[i]=Me(c,u))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=x()},m(i,u){for(let c=0;c<e.length;c+=1)e[c].m(i,u);M(i,l,u),s=!0},p(i,u){u&14&&(r=i[3],ne(),e=se(e,u,f,1,i,r,n,l.parentNode,me,Me,l,Ce),le())},i(i){if(!s){for(let u=0;u<r.length;u+=1)T(e[u]);s=!0}},o(i){for(let u=0;u<e.length;u+=1)G(e[u]);s=!1},d(i){for(let u=0;u<e.length;u+=1)e[u].d(i);i&&C(l)}}}function vt(t){let e,n,l;return n=new Ke({props:{enabled:t[0]===t[1],$$slots:{default:[kt]},$$scope:{ctx:t}}}),{c(){e=v("section"),F(n.$$.fragment),E(e,"class","svelte-uqx1ef"),B(e,"Droping",t[4])},m(s,r){M(s,e,r),q(n,e,null),l=!0},p(s,[r]){const f={};r&3&&(f.enabled=s[0]===s[1]),r&1038&&(f.$$scope={dirty:r,ctx:s}),n.$set(f),r&16&&B(e,"Droping",s[4])},i(s){l||(T(n.$$.fragment,s),l=!0)},o(s){G(n.$$.fragment,s),l=!1},d(s){s&&C(e),P(n)}}}function Et(t,e,n){let{turn:l}=e,{symbol:s}=e,r=[],f=!1;const i=()=>{n(3,r=r.length?[...r,r[r.length-1]+1]:[0]),n(4,f=!0),setTimeout(()=>{n(4,f=!1)},200)},u=o=>{n(3,r=[])};let{ini:c}=e;return t.$$set=o=>{"turn"in o&&n(0,l=o.turn),"symbol"in o&&n(1,s=o.symbol),"ini"in o&&n(2,c=o.ini)},t.$$.update=()=>{t.$$.dirty&4&&u(),t.$$.dirty&7&&l===s&&i()},[l,s,c,r,f]}class De extends L{constructor(e){super(),Y(this,e,Et,vt,j,{turn:0,symbol:1,ini:2})}}function Ge(t){let e;return{c(){e=v("div"),E(e,"class","Placeholder svelte-bgy7d7")},m(n,l){M(n,e,l)},d(n){n&&C(e)}}}function Ct(t){let e,n=!t[0]&&t[2]&&Ge();return{c(){n&&n.c(),e=x()},m(l,s){n&&n.m(l,s),M(l,e,s)},p(l,s){!l[0]&&l[2]?n||(n=Ge(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&C(e)}}}function Tt(t){let e,n,l;return n=new Ke({props:{enabled:!t[0],getFocus:t[5],$$slots:{default:[Ct]},$$scope:{ctx:t}}}),n.$on("receive",t[3]),{c(){e=v("div"),F(n.$$.fragment),E(e,"class","Grid svelte-bgy7d7"),B(e,"Focusing",t[1])},m(s,r){M(s,e,r),q(n,e,null),l=!0},p(s,[r]){const f={};r&1&&(f.enabled=!s[0]),r&2&&(f.getFocus=s[5]),r&69&&(f.$$scope={dirty:r,ctx:s}),n.$set(f),r&2&&B(e,"Focusing",s[1])},i(s){l||(T(n.$$.fragment,s),l=!0)},o(s){G(n.$$.fragment,s),l=!1},d(s){s&&C(e),P(n)}}}function Mt(t,e,n){let l;H(t,fe,c=>n(2,l=c));let{changeGrid:s}=e,{grid:r}=e,f=!1;const i=c=>{const o=c.detail.element;s(o.attributes.loadValue)},u=c=>n(1,f=c);return t.$$set=c=>{"changeGrid"in c&&n(4,s=c.changeGrid),"grid"in c&&n(0,r=c.grid)},[r,f,l,i,s,u]}class Dt extends L{constructor(e){super(),Y(this,e,Mt,Tt,j,{changeGrid:4,grid:0})}}function Oe(t,e,n){const l=t.slice();return l[4]=e[n],l[6]=n,l}function Se(t,e,n){const l=t.slice();return l[7]=e[n],l[9]=n,l}function Ae(t,e){let n,l=(e[7]?e[7]:" ")+"",s;return{key:t,first:null,c(){n=v("div"),s=V(l),E(n,"class","Grid svelte-mbau9v"),this.first=n},m(r,f){M(r,n,f),k(n,s)},p(r,f){e=r,f&1&&l!==(l=(e[7]?e[7]:" ")+"")&&ae(s,l)},d(r){r&&C(n)}}}function Ne(t,e){let n,l=[],s=new Map,r,f=e[4];const i=u=>u[9];for(let u=0;u<f.length;u+=1){let c=Se(e,f,u),o=i(c);s.set(o,l[u]=Ae(o,c))}return{key:t,first:null,c(){n=v("div");for(let u=0;u<l.length;u+=1)l[u].c();r=X(),E(n,"class","Row svelte-mbau9v"),this.first=n},m(u,c){M(u,n,c);for(let o=0;o<l.length;o+=1)l[o].m(n,null);k(n,r)},p(u,c){e=u,c&1&&(f=e[4],l=se(l,c,i,1,e,f,s,n,ze,Ae,r,Se))},d(u){u&&C(n);for(let c=0;c<l.length;c+=1)l[c].d()}}}function Gt(t){let e,n,l=[],s=new Map,r,f,i,u=t[0];const c=o=>o[6];for(let o=0;o<u.length;o+=1){let a=Oe(t,u,o),h=c(a);s.set(h,l[o]=Ne(h,a))}return{c(){e=v("section"),n=v("div");for(let o=0;o<l.length;o+=1)l[o].c();r=X(),f=v("div"),i=V(t[1]),E(n,"class","Board svelte-mbau9v"),E(f,"class","Message svelte-mbau9v"),E(e,"class","svelte-mbau9v")},m(o,a){M(o,e,a),k(e,n);for(let h=0;h<l.length;h+=1)l[h].m(n,null);k(e,r),k(e,f),k(f,i)},p(o,[a]){a&1&&(u=o[0],l=se(l,a,c,1,o,u,s,n,ze,Ne,null,Oe)),a&2&&ae(i,o[1])},i:S,o:S,d(o){o&&C(e);for(let a=0;a<l.length;a+=1)l[a].d()}}}function Ot(t,e,n){let l,{board:s}=e,{winner:r}=e,{turn:f}=e;return t.$$set=i=>{"board"in i&&n(0,s=i.board),"winner"in i&&n(2,r=i.winner),"turn"in i&&n(3,f=i.turn)},t.$$.update=()=>{t.$$.dirty&12&&n(1,l=r?"The winner is "+r+" !":"It is "+f+"'s turn.")},[s,l,r,f]}class St extends L{constructor(e){super(),Y(this,e,Ot,Gt,j,{board:0,winner:2,turn:3})}}function Re(t,e,n){const l=t.slice();return l[7]=e[n],l[9]=n,l}function Be(t,e,n){const l=t.slice();return l[10]=e[n],l[12]=n,l}function Xe(t){let e,n;return e=new dt({props:{reset:t[5],winner:t[3]}}),{c(){F(e.$$.fragment)},m(l,s){q(e,l,s),n=!0},p(l,s){const r={};s&8&&(r.winner=l[3]),e.$set(r)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){G(e.$$.fragment,l),n=!1},d(l){P(e,l)}}}function qe(t,e){let n,l,s;return l=new Dt({props:{changeGrid:e[4](e[9],e[12]),grid:e[10]}}),{key:t,first:null,c(){n=x(),F(l.$$.fragment),this.first=n},m(r,f){M(r,n,f),q(l,r,f),s=!0},p(r,f){e=r;const i={};f&1&&(i.changeGrid=e[4](e[9],e[12])),f&1&&(i.grid=e[10]),l.$set(i)},i(r){s||(T(l.$$.fragment,r),s=!0)},o(r){G(l.$$.fragment,r),s=!1},d(r){r&&C(n),P(l,r)}}}function Pe(t,e){let n,l=[],s=new Map,r,f,i=e[7];const u=c=>c[12];for(let c=0;c<i.length;c+=1){let o=Be(e,i,c),a=u(o);s.set(a,l[c]=qe(a,o))}return{key:t,first:null,c(){n=v("div");for(let c=0;c<l.length;c+=1)l[c].c();r=X(),E(n,"class","Row svelte-1c06lhl"),this.first=n},m(c,o){M(c,n,o);for(let a=0;a<l.length;a+=1)l[a].m(n,null);k(n,r),f=!0},p(c,o){e=c,o&17&&(i=e[7],ne(),l=se(l,o,u,1,e,i,s,n,me,qe,r,Be),le())},i(c){if(!f){for(let o=0;o<i.length;o+=1)T(l[o]);f=!0}},o(c){for(let o=0;o<l.length;o+=1)G(l[o]);f=!1},d(c){c&&C(n);for(let o=0;o<l.length;o+=1)l[o].d()}}}function At(t){let e,n,l,s,r,f,i,u,c,o,a=[],h=new Map,D,y,A,m=t[3]&&Xe(t);r=new St({props:{board:t[0],winner:t[3],turn:t[1]}}),u=new De({props:{symbol:"O",turn:t[1],ini:t[2]}});let N=t[0];const w=_=>_[9];for(let _=0;_<N.length;_+=1){let g=Re(t,N,_),d=w(g);h.set(d,a[_]=Pe(d,g))}return y=new De({props:{symbol:"X",turn:t[1],ini:t[2]}}),{c(){m&&m.c(),e=X(),n=v("section"),l=v("h1"),l.textContent="Svelte-Drag-Drop Demo: Tic Tac Toe",s=X(),F(r.$$.fragment),f=X(),i=v("div"),F(u.$$.fragment),c=X(),o=v("div");for(let _=0;_<a.length;_+=1)a[_].c();D=X(),F(y.$$.fragment),E(l,"class","svelte-1c06lhl"),E(o,"class","Board svelte-1c06lhl"),E(i,"class","TicTacToe svelte-1c06lhl"),E(n,"class","svelte-1c06lhl")},m(_,g){m&&m.m(_,g),M(_,e,g),M(_,n,g),k(n,l),k(n,s),q(r,n,null),k(n,f),k(n,i),q(u,i,null),k(i,c),k(i,o);for(let d=0;d<a.length;d+=1)a[d].m(o,null);k(i,D),q(y,i,null),A=!0},p(_,[g]){_[3]?m?(m.p(_,g),g&8&&T(m,1)):(m=Xe(_),m.c(),T(m,1),m.m(e.parentNode,e)):m&&(ne(),G(m,1,1,()=>{m=null}),le());const d={};g&1&&(d.board=_[0]),g&8&&(d.winner=_[3]),g&2&&(d.turn=_[1]),r.$set(d);const b={};g&2&&(b.turn=_[1]),g&4&&(b.ini=_[2]),u.$set(b),g&17&&(N=_[0],ne(),a=se(a,g,w,1,_,N,h,o,me,Pe,null,Re),le());const O={};g&2&&(O.turn=_[1]),g&4&&(O.ini=_[2]),y.$set(O)},i(_){if(!A){T(m),T(r.$$.fragment,_),T(u.$$.fragment,_);for(let g=0;g<N.length;g+=1)T(a[g]);T(y.$$.fragment,_),A=!0}},o(_){G(m),G(r.$$.fragment,_),G(u.$$.fragment,_);for(let g=0;g<a.length;g+=1)G(a[g]);G(y.$$.fragment,_),A=!1},d(_){m&&m.d(_),_&&C(e),_&&C(n),P(r),P(u);for(let g=0;g<a.length;g+=1)a[g].d();P(y)}}}function Nt(t,e,n){let l,s="O",r=[[null,null,null],[null,null,null],[null,null,null]];const f=o=>{for(let a=0;a<3;a++){if(console.log(a),o[a][0]&&o[a][0]===o[a][1]&&o[a][1]===o[a][2])return o[a][0];if(o[0][a]&&o[0][a]===o[1][a]&&o[1][a]===o[2][a])return o[0][a]}return o[0][0]===o[1][1]&&o[1][1]===o[2][2]||o[0][2]===o[1][1]&&o[1][1]===o[2][0]?o[1][1]:null},i=(o,a)=>h=>{s==="O"?n(1,s="X"):n(1,s="O"),n(0,r[o][a]=h,r)};let u=!0;const c=()=>{n(2,u=!u),n(1,s="O"),n(0,r=[[null,null,null],[null,null,null],[null,null,null]])};return t.$$.update=()=>{t.$$.dirty&1&&n(3,l=f(r))},[r,s,u,l,i,c]}class Rt extends L{constructor(e){super(),Y(this,e,Nt,At,j,{})}}function Bt(t){let e,n,l;return n=new Rt({}),{c(){e=v("main"),F(n.$$.fragment),E(e,"class","svelte-1qv9lu9")},m(s,r){M(s,e,r),q(n,e,null),l=!0},p:S,i(s){l||(T(n.$$.fragment,s),l=!0)},o(s){G(n.$$.fragment,s),l=!1},d(s){s&&C(e),P(n)}}}class Xt extends L{constructor(e){super(),Y(this,e,null,Bt,j,{})}}new Xt({target:document.getElementById("app")});
