const $e=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const f of r.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}};$e();function S(){}function xe(t,e){for(const n in e)t[n]=e[n];return t}function je(t){return t()}function we(){return Object.create(null)}function U(t){t.forEach(je)}function et(t){return typeof t=="function"}function j(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function tt(t){return Object.keys(t).length===0}function nt(t,...e){if(t==null)return S;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function W(t,e,n){t.$$.on_destroy.push(nt(e,n))}function Fe(t,e,n,l){if(t){const s=Ie(t,e,n,l);return t[0](s)}}function Ie(t,e,n,l){return t[1]&&l?xe(n.ctx.slice(),t[1](l(e))):n.ctx}function Ve(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],f=Math.max(e.dirty.length,s.length);for(let i=0;i<f;i+=1)r[i]=e.dirty[i]|s[i];return r}return e.dirty|s}return e.dirty}function Ye(t,e,n,l,s,r){if(s){const f=Ie(e,n,l,r);t.p(f,s)}}function Le(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function E(t,e){t.appendChild(e)}function D(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode.removeChild(t)}function k(t){return document.createElement(t)}function K(t){return document.createTextNode(t)}function P(){return K(" ")}function x(){return K("")}function I(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function v(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function lt(t){return Array.from(t.childNodes)}function ae(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function re(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function B(t,e,n){t.classList[n?"add":"remove"](e)}function st(t,e,n=!1){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,!1,e),l}let ee;function $(t){ee=t}function We(){if(!ee)throw new Error("Function called outside component initialization");return ee}function rt(t){We().$$.on_mount.push(t)}function it(){const t=We();return(e,n)=>{const l=t.$$.callbacks[e];if(l){const s=st(e,n);l.slice().forEach(r=>{r.call(t,s)})}}}const Q=[],te=[],ue=[],ke=[],ot=Promise.resolve();let ge=!1;function ut(){ge||(ge=!0,ot.then(He))}function he(t){ue.push(t)}const _e=new Set;let ie=0;function He(){const t=ee;do{for(;ie<Q.length;){const e=Q[ie];ie++,$(e),ct(e.$$)}for($(null),Q.length=0,ie=0;te.length;)te.pop()();for(let e=0;e<ue.length;e+=1){const n=ue[e];_e.has(n)||(_e.add(n),n())}ue.length=0}while(Q.length);for(;ke.length;)ke.pop()();ge=!1,_e.clear(),$(t)}function ct(t){if(t.fragment!==null){t.update(),U(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(he)}}const ce=new Set;let H;function ne(){H={r:0,c:[],p:H}}function le(){H.r||U(H.c),H=H.p}function T(t,e){t&&t.i&&(ce.delete(t),t.i(e))}function G(t,e,n,l){if(t&&t.o){if(ce.has(t))return;ce.add(t),H.c.push(()=>{ce.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}}function ze(t,e){t.d(1),e.delete(t.key)}function me(t,e){G(t,1,1,()=>{e.delete(t.key)})}function se(t,e,n,l,s,r,f,i,c,u,o,a){let _=t.length,M=r.length,y=_;const A={};for(;y--;)A[t[y].key]=y;const m=[],N=new Map,w=new Map;for(y=M;y--;){const b=a(s,r,y),O=n(b);let R=f.get(O);R?l&&R.p(b,e):(R=u(O,b),R.c()),N.set(O,m[y]=R),O in A&&w.set(O,Math.abs(y-A[O]))}const d=new Set,h=new Set;function g(b){T(b,1),b.m(i,o),f.set(b.key,b),o=b.first,M--}for(;_&&M;){const b=m[M-1],O=t[_-1],R=b.key,L=O.key;b===O?(o=b.first,_--,M--):N.has(L)?!f.has(R)||d.has(R)?g(b):h.has(L)?_--:w.get(R)>w.get(L)?(h.add(R),g(b)):(d.add(L),_--):(c(O,f),_--)}for(;_--;){const b=t[_];N.has(b.key)||c(b,f)}for(;M;)g(m[M-1]);return m}function F(t){t&&t.c()}function X(t,e,n,l){const{fragment:s,on_mount:r,on_destroy:f,after_update:i}=t.$$;s&&s.m(e,n),l||he(()=>{const c=r.map(je).filter(et);f?f.push(...c):U(c),t.$$.on_mount=[]}),i.forEach(he)}function q(t,e){const n=t.$$;n.fragment!==null&&(U(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ft(t,e){t.$$.dirty[0]===-1&&(Q.push(t),ut(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(t,e,n,l,s,r,f,i=[-1]){const c=ee;$(t);const u=t.$$={fragment:null,ctx:null,props:r,update:S,not_equal:s,bound:we(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:we(),dirty:i,skip_bound:!1,root:e.target||c.$$.root};f&&f(u.root);let o=!1;if(u.ctx=n?n(t,e.props||{},(a,_,...M)=>{const y=M.length?M[0]:_;return u.ctx&&s(u.ctx[a],u.ctx[a]=y)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](y),o&&ft(t,a)),_}):[],u.update(),o=!0,U(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const a=lt(e.target);u.fragment&&u.fragment.l(a),a.forEach(C)}else u.fragment&&u.fragment.c();e.intro&&T(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),He()}$(c)}class Y{$destroy(){q(this,1),this.$destroy=S}$on(e,n){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!tt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function at(t){let e,n,l,s=(t[0]==="Draw"?t[0]:"Player "+t[0]+" win!")+"",r,f,i,c,u;return{c(){e=k("section"),n=k("div"),l=k("div"),r=K(s),f=P(),i=k("button"),i.textContent="Play Again!",v(l,"class","Message svelte-1jrqnu6"),v(i,"class","Reset svelte-1jrqnu6"),v(n,"class","Window svelte-1jrqnu6"),v(e,"class","svelte-1jrqnu6"),B(e,"CurtainUp",t[1])},m(o,a){D(o,e,a),E(e,n),E(n,l),E(l,r),E(n,f),E(n,i),c||(u=I(i,"click",t[2]),c=!0)},p(o,[a]){a&1&&s!==(s=(o[0]==="Draw"?o[0]:"Player "+o[0]+" win!")+"")&&ae(r,s),a&2&&B(e,"CurtainUp",o[1])},i:S,o:S,d(o){o&&C(e),c=!1,u()}}}function _t(t,e,n){let{winner:l="O"}=e,{reset:s}=e,r;const f=()=>{n(1,r=!0),setTimeout(()=>{s(),n(1,r=!1)},500)};return t.$$set=i=>{"winner"in i&&n(0,l=i.winner),"reset"in i&&n(3,s=i.reset)},[l,r,f,s]}class dt extends Y{constructor(e){super(),V(this,e,_t,at,j,{winner:0,reset:3})}}const Ue=200,z=[];function J(t,e=S){let n;const l=new Set;function s(i){if(j(t,i)&&(t=i,n)){const c=!z.length;for(const u of l)u[1](),z.push(u,t);if(c){for(let u=0;u<z.length;u+=2)z[u][0](z[u+1]);z.length=0}}}function r(i){s(i(t))}function f(i,c=S){const u=[i,c];return l.add(u),l.size===1&&(n=e(s)||S),i(t),()=>{l.delete(u),l.size===0&&(n(),n=null)}}return{set:s,update:r,subscribe:f}}function ve(t){let e;return{c(){e=k("div"),v(e,"class","Cover svelte-m24lnl")},m(n,l){D(n,e,l)},d(n){n&&C(e)}}}function gt(t){let e,n,l,s,r,f;const i=t[8].default,c=Fe(i,t,t[7],null);let u=!t[0]&&ve();return{c(){e=k("section"),n=k("span"),c&&c.c(),l=P(),u&&u.c(),v(n,"class","Placeholder"),v(e,"class","svelte-m24lnl")},m(o,a){D(o,e,a),E(e,n),c&&c.m(n,null),t[9](n),E(e,l),u&&u.m(e,null),t[10](e),s=!0,r||(f=I(n,"mousedown",t[3]),r=!0)},p(o,[a]){c&&c.p&&(!s||a&128)&&Ye(c,i,o,o[7],s?Ve(i,o[7],a,null):Le(o[7]),null),o[0]?u&&(u.d(1),u=null):u||(u=ve(),u.c(),u.m(e,null))},i(o){s||(T(c,o),s=!0)},o(o){G(c,o),s=!1},d(o){o&&C(e),c&&c.d(o),t[9](null),u&&u.d(),t[10](null),r=!1,f()}}}const Ee=J(0),Z=J(null),oe=J(null),de=J(null);function ht(t,e){return!(t.y+t.height<e.y||t.y>e.y+e.height||t.x+t.width<e.x||t.x>e.x+e.width)}function mt(t,e,n){let l,s,r=S,f,i,c=S,u,o=S,a,_=S;W(t,Ee,p=>n(16,s=p)),W(t,Je,p=>n(17,f=p)),W(t,Z,p=>n(6,i=p)),W(t,de,p=>n(18,u=p)),W(t,oe,p=>n(19,a=p)),t.$$.on_destroy.push(()=>r()),t.$$.on_destroy.push(()=>c()),t.$$.on_destroy.push(()=>o()),t.$$.on_destroy.push(()=>_());let{$$slots:M={},$$scope:y}=e,{enabled:A=!0}=e,{getFocus:m=p=>{}}=e;const N=it();let w;const d=()=>{u||de.set(w)};fe.subscribe(p=>{p&&A?(ye(),ht(p,w)?(i==null?void 0:i.id)!==w.id&&(a==null?void 0:a.id)!==w.id&&(oe.set(i),Z.set(w),N("enter",{element:f})):(((a==null?void 0:a.id)===w.id||!i)&&oe.set(null),(i==null?void 0:i.id)===w.id&&(console.log(i==null?void 0:i.id,w.id),Z.set(null)))):(l&&(setTimeout(()=>{Z.set(null),oe.set(null),g.appendChild(f)},Ue),N("receive",{element:f})),(u==null?void 0:u.id)===(w==null?void 0:w.id)&&(de.set(null),l||i&&(console.log("lose",w==null?void 0:w.id),N("lose",{element:f}))))});let h,g,b,O,R,L,pe=s;Ee.update(p=>p+1),rt(()=>{ye()});const ye=()=>{const p=h.getBoundingClientRect();b=p.left,O=p.top;const be=g.getBoundingClientRect();R=be.left,L=be.top,w={id:pe,x:b,y:O,width:h.offsetWidth,height:h.offsetHeight,phX:R,phY:L}};function Qe(p){te[p?"unshift":"push"](()=>{g=p,n(2,g)})}function Ze(p){te[p?"unshift":"push"](()=>{h=p,n(1,h)})}return t.$$set=p=>{"enabled"in p&&n(0,A=p.enabled),"getFocus"in p&&n(4,m=p.getFocus),"$$scope"in p&&n(7,y=p.$$scope)},t.$$.update=()=>{t.$$.dirty&65&&n(5,l=pe===(i==null?void 0:i.id)&&A),t.$$.dirty&48&&m(l)},[A,h,g,d,m,l,i,y,M,Qe,Ze]}class Ke extends Y{constructor(e){super(),V(this,e,mt,gt,j,{enabled:0,getFocus:4})}}function pt(t){let e,n,l,s;const r=t[10].default,f=Fe(r,t,t[9],null);return{c(){e=k("span"),f&&f.c(),re(e,"top",t[2]+"px"),re(e,"left",t[1]+"px"),v(e,"class","svelte-1snv2mh"),B(e,"Rigid",!t[3]),B(e,"Dragging",t[3]),B(e,"GoBack",t[4])},m(i,c){D(i,e,c),f&&f.m(e,null),t[11](e),n=!0,l||(s=[I(window,"mousemove",t[6]),I(window,"touchmove",t[6]),I(window,"mouseup",t[7]),I(window,"touchend",t[7]),I(e,"mousedown",t[5]),I(e,"touchstart",t[5])],l=!0)},p(i,[c]){f&&f.p&&(!n||c&512)&&Ye(f,r,i,i[9],n?Ve(r,i[9],c,null):Le(i[9]),null),(!n||c&4)&&re(e,"top",i[2]+"px"),(!n||c&2)&&re(e,"left",i[1]+"px"),c&8&&B(e,"Rigid",!i[3]),c&8&&B(e,"Dragging",i[3]),c&16&&B(e,"GoBack",i[4])},i(i){n||(T(f,i),n=!0)},o(i){G(f,i),n=!1},d(i){i&&C(e),f&&f.d(i),t[11](null),l=!1,U(s)}}}const fe=J(null),Je=J(null);function yt(t,e,n){let l;W(t,Z,g=>n(16,l=g));let{$$slots:s={},$$scope:r}=e,f,i,c,u,o,a,_,{loadValue:M="loadValue shouldn't be empty."}=e,y=!1;const A=g=>{n(3,y=!0),g.type==="mousedown"?(n(1,c=g.clientX-a),n(2,u=g.clientY-_)):(n(1,c=g.touches[0].clientX-a),n(2,u=g.touches[0].clientY-_));const b=o.getBoundingClientRect();f=b.left,i=b.top,d()};let m=!1;const N=g=>{y&&!m&&(g.type==="mousemove"?(n(1,c=g.clientX-a),n(2,u=g.clientY-_)):(n(1,c=g.touches[0].clientX-a),n(2,u=g.touches[0].clientY-_)),d())},w=()=>{y&&(l?(n(1,c=l.phX),n(2,u=l.phY)):(n(1,c=f),n(2,u=i)),fe.set(null),n(4,m=!0),setTimeout(()=>{n(4,m=!1),n(3,y=!1)},Ue))},d=()=>{fe.set({x:c,y:u,width:o.offsetWidth,height:o.offsetHeight}),Je.set(o)};function h(g){te[g?"unshift":"push"](()=>{o=g,n(0,o),n(8,M)})}return t.$$set=g=>{"loadValue"in g&&n(8,M=g.loadValue),"$$scope"in g&&n(9,r=g.$$scope)},t.$$.update=()=>{t.$$.dirty&257&&o&&(a=o.offsetWidth/2,_=o.offsetHeight/2,n(0,o.attributes.loadValue=M,o))},[o,c,u,y,m,A,N,w,M,r,s,h]}class bt extends Y{constructor(e){super(),V(this,e,yt,pt,j,{loadValue:8})}}function Ce(t,e,n){const l=t.slice();return l[7]=e[n],l}function wt(t){let e,n,l;return{c(){e=k("button"),n=K(t[1]),l=P(),v(e,"class","svelte-uqx1ef")},m(s,r){D(s,e,r),E(e,n),D(s,l,r)},p(s,r){r&2&&ae(n,s[1])},d(s){s&&C(e),s&&C(l)}}}function Te(t){let e,n;return e=new bt({props:{loadValue:t[1],$$slots:{default:[wt]},$$scope:{ctx:t}}}),{c(){F(e.$$.fragment)},m(l,s){X(e,l,s),n=!0},p(l,s){const r={};s&2&&(r.loadValue=l[1]),s&1026&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){G(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function De(t,e){let n,l=e[2],s,r,f=Te(e);return{key:t,first:null,c(){n=x(),f.c(),s=x(),this.first=n},m(i,c){D(i,n,c),f.m(i,c),D(i,s,c),r=!0},p(i,c){e=i,c&4&&j(l,l=e[2])?(ne(),G(f,1,1,S),le(),f=Te(e),f.c(),T(f),f.m(s.parentNode,s)):f.p(e,c)},i(i){r||(T(f),r=!0)},o(i){G(f),r=!1},d(i){i&&C(n),i&&C(s),f.d(i)}}}function kt(t){let e=[],n=new Map,l,s,r=t[3];const f=i=>i[7];for(let i=0;i<r.length;i+=1){let c=Ce(t,r,i),u=f(c);n.set(u,e[i]=De(u,c))}return{c(){for(let i=0;i<e.length;i+=1)e[i].c();l=x()},m(i,c){for(let u=0;u<e.length;u+=1)e[u].m(i,c);D(i,l,c),s=!0},p(i,c){c&14&&(r=i[3],ne(),e=se(e,c,f,1,i,r,n,l.parentNode,me,De,l,Ce),le())},i(i){if(!s){for(let c=0;c<r.length;c+=1)T(e[c]);s=!0}},o(i){for(let c=0;c<e.length;c+=1)G(e[c]);s=!1},d(i){for(let c=0;c<e.length;c+=1)e[c].d(i);i&&C(l)}}}function vt(t){let e,n,l;return n=new Ke({props:{enabled:t[0]===t[1],$$slots:{default:[kt]},$$scope:{ctx:t}}}),{c(){e=k("section"),F(n.$$.fragment),v(e,"class","svelte-uqx1ef"),B(e,"Droping",t[4])},m(s,r){D(s,e,r),X(n,e,null),l=!0},p(s,[r]){const f={};r&3&&(f.enabled=s[0]===s[1]),r&1038&&(f.$$scope={dirty:r,ctx:s}),n.$set(f),r&16&&B(e,"Droping",s[4])},i(s){l||(T(n.$$.fragment,s),l=!0)},o(s){G(n.$$.fragment,s),l=!1},d(s){s&&C(e),q(n)}}}function Et(t,e,n){let{turn:l}=e,{symbol:s}=e,r=[],f=!1;const i=()=>{n(3,r=r.length?[...r,r[r.length-1]+1]:[0]),n(4,f=!0),setTimeout(()=>{n(4,f=!1)},200)},c=o=>{n(3,r=[])};let{ini:u}=e;return t.$$set=o=>{"turn"in o&&n(0,l=o.turn),"symbol"in o&&n(1,s=o.symbol),"ini"in o&&n(2,u=o.ini)},t.$$.update=()=>{t.$$.dirty&4&&c(),t.$$.dirty&7&&l===s&&i()},[l,s,u,r,f]}class Me extends Y{constructor(e){super(),V(this,e,Et,vt,j,{turn:0,symbol:1,ini:2})}}function Ge(t){let e;return{c(){e=k("div"),v(e,"class","Placeholder svelte-bgy7d7")},m(n,l){D(n,e,l)},d(n){n&&C(e)}}}function Ct(t){let e,n=!t[0]&&t[2]&&Ge();return{c(){n&&n.c(),e=x()},m(l,s){n&&n.m(l,s),D(l,e,s)},p(l,s){!l[0]&&l[2]?n||(n=Ge(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&C(e)}}}function Tt(t){let e,n,l;return n=new Ke({props:{enabled:!t[0],getFocus:t[5],$$slots:{default:[Ct]},$$scope:{ctx:t}}}),n.$on("receive",t[3]),{c(){e=k("div"),F(n.$$.fragment),v(e,"class","Grid svelte-bgy7d7"),B(e,"Focusing",t[1])},m(s,r){D(s,e,r),X(n,e,null),l=!0},p(s,[r]){const f={};r&1&&(f.enabled=!s[0]),r&2&&(f.getFocus=s[5]),r&69&&(f.$$scope={dirty:r,ctx:s}),n.$set(f),r&2&&B(e,"Focusing",s[1])},i(s){l||(T(n.$$.fragment,s),l=!0)},o(s){G(n.$$.fragment,s),l=!1},d(s){s&&C(e),q(n)}}}function Dt(t,e,n){let l;W(t,fe,u=>n(2,l=u));let{changeGrid:s}=e,{grid:r}=e,f=!1;const i=u=>{const o=u.detail.element;s(o.attributes.loadValue)},c=u=>n(1,f=u);return t.$$set=u=>{"changeGrid"in u&&n(4,s=u.changeGrid),"grid"in u&&n(0,r=u.grid)},[r,f,l,i,s,c]}class Mt extends Y{constructor(e){super(),V(this,e,Dt,Tt,j,{changeGrid:4,grid:0})}}function Oe(t,e,n){const l=t.slice();return l[4]=e[n],l[6]=n,l}function Se(t,e,n){const l=t.slice();return l[7]=e[n],l[9]=n,l}function Ae(t,e){let n,l=(e[7]?e[7]:" ")+"",s;return{key:t,first:null,c(){n=k("div"),s=K(l),v(n,"class","Grid svelte-mbau9v"),this.first=n},m(r,f){D(r,n,f),E(n,s)},p(r,f){e=r,f&1&&l!==(l=(e[7]?e[7]:" ")+"")&&ae(s,l)},d(r){r&&C(n)}}}function Ne(t,e){let n,l=[],s=new Map,r,f=e[4];const i=c=>c[9];for(let c=0;c<f.length;c+=1){let u=Se(e,f,c),o=i(u);s.set(o,l[c]=Ae(o,u))}return{key:t,first:null,c(){n=k("div");for(let c=0;c<l.length;c+=1)l[c].c();r=P(),v(n,"class","Row svelte-mbau9v"),this.first=n},m(c,u){D(c,n,u);for(let o=0;o<l.length;o+=1)l[o].m(n,null);E(n,r)},p(c,u){e=c,u&1&&(f=e[4],l=se(l,u,i,1,e,f,s,n,ze,Ae,r,Se))},d(c){c&&C(n);for(let u=0;u<l.length;u+=1)l[u].d()}}}function Gt(t){let e,n,l=[],s=new Map,r,f,i,c=t[0];const u=o=>o[6];for(let o=0;o<c.length;o+=1){let a=Oe(t,c,o),_=u(a);s.set(_,l[o]=Ne(_,a))}return{c(){e=k("section"),n=k("div");for(let o=0;o<l.length;o+=1)l[o].c();r=P(),f=k("div"),i=K(t[1]),v(n,"class","Board svelte-mbau9v"),v(f,"class","Message svelte-mbau9v"),v(e,"class","svelte-mbau9v")},m(o,a){D(o,e,a),E(e,n);for(let _=0;_<l.length;_+=1)l[_].m(n,null);E(e,r),E(e,f),E(f,i)},p(o,[a]){a&1&&(c=o[0],l=se(l,a,u,1,o,c,s,n,ze,Ne,null,Oe)),a&2&&ae(i,o[1])},i:S,o:S,d(o){o&&C(e);for(let a=0;a<l.length;a+=1)l[a].d()}}}function Ot(t,e,n){let l,{board:s}=e,{winner:r}=e,{turn:f}=e;return t.$$set=i=>{"board"in i&&n(0,s=i.board),"winner"in i&&n(2,r=i.winner),"turn"in i&&n(3,f=i.turn)},t.$$.update=()=>{t.$$.dirty&12&&n(1,l=r?"The winner is "+r+" !":"It is "+f+"'s turn.")},[s,l,r,f]}class St extends Y{constructor(e){super(),V(this,e,Ot,Gt,j,{board:0,winner:2,turn:3})}}function Re(t,e,n){const l=t.slice();return l[7]=e[n],l[9]=n,l}function Be(t,e,n){const l=t.slice();return l[10]=e[n],l[12]=n,l}function Pe(t){let e,n;return e=new dt({props:{reset:t[5],winner:t[3]}}),{c(){F(e.$$.fragment)},m(l,s){X(e,l,s),n=!0},p(l,s){const r={};s&8&&(r.winner=l[3]),e.$set(r)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){G(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function Xe(t,e){let n,l,s;return l=new Mt({props:{changeGrid:e[4](e[9],e[12]),grid:e[10]}}),{key:t,first:null,c(){n=x(),F(l.$$.fragment),this.first=n},m(r,f){D(r,n,f),X(l,r,f),s=!0},p(r,f){e=r;const i={};f&1&&(i.changeGrid=e[4](e[9],e[12])),f&1&&(i.grid=e[10]),l.$set(i)},i(r){s||(T(l.$$.fragment,r),s=!0)},o(r){G(l.$$.fragment,r),s=!1},d(r){r&&C(n),q(l,r)}}}function qe(t,e){let n,l=[],s=new Map,r,f,i=e[7];const c=u=>u[12];for(let u=0;u<i.length;u+=1){let o=Be(e,i,u),a=c(o);s.set(a,l[u]=Xe(a,o))}return{key:t,first:null,c(){n=k("div");for(let u=0;u<l.length;u+=1)l[u].c();r=P(),v(n,"class","Row svelte-1c06lhl"),this.first=n},m(u,o){D(u,n,o);for(let a=0;a<l.length;a+=1)l[a].m(n,null);E(n,r),f=!0},p(u,o){e=u,o&17&&(i=e[7],ne(),l=se(l,o,c,1,e,i,s,n,me,Xe,r,Be),le())},i(u){if(!f){for(let o=0;o<i.length;o+=1)T(l[o]);f=!0}},o(u){for(let o=0;o<l.length;o+=1)G(l[o]);f=!1},d(u){u&&C(n);for(let o=0;o<l.length;o+=1)l[o].d()}}}function At(t){let e,n,l,s,r,f,i,c,u,o,a=[],_=new Map,M,y,A,m=t[3]&&Pe(t);r=new St({props:{board:t[0],winner:t[3],turn:t[1]}}),c=new Me({props:{symbol:"O",turn:t[1],ini:t[2]}});let N=t[0];const w=d=>d[9];for(let d=0;d<N.length;d+=1){let h=Re(t,N,d),g=w(h);_.set(g,a[d]=qe(g,h))}return y=new Me({props:{symbol:"X",turn:t[1],ini:t[2]}}),{c(){m&&m.c(),e=P(),n=k("section"),l=k("h1"),l.textContent="Svelte-Drag-Drop Demo: Tic Tac Toe",s=P(),F(r.$$.fragment),f=P(),i=k("div"),F(c.$$.fragment),u=P(),o=k("div");for(let d=0;d<a.length;d+=1)a[d].c();M=P(),F(y.$$.fragment),v(l,"class","svelte-1c06lhl"),v(o,"class","Board svelte-1c06lhl"),v(i,"class","TicTacToe svelte-1c06lhl"),v(n,"class","svelte-1c06lhl")},m(d,h){m&&m.m(d,h),D(d,e,h),D(d,n,h),E(n,l),E(n,s),X(r,n,null),E(n,f),E(n,i),X(c,i,null),E(i,u),E(i,o);for(let g=0;g<a.length;g+=1)a[g].m(o,null);E(i,M),X(y,i,null),A=!0},p(d,[h]){d[3]?m?(m.p(d,h),h&8&&T(m,1)):(m=Pe(d),m.c(),T(m,1),m.m(e.parentNode,e)):m&&(ne(),G(m,1,1,()=>{m=null}),le());const g={};h&1&&(g.board=d[0]),h&8&&(g.winner=d[3]),h&2&&(g.turn=d[1]),r.$set(g);const b={};h&2&&(b.turn=d[1]),h&4&&(b.ini=d[2]),c.$set(b),h&17&&(N=d[0],ne(),a=se(a,h,w,1,d,N,_,o,me,qe,null,Re),le());const O={};h&2&&(O.turn=d[1]),h&4&&(O.ini=d[2]),y.$set(O)},i(d){if(!A){T(m),T(r.$$.fragment,d),T(c.$$.fragment,d);for(let h=0;h<N.length;h+=1)T(a[h]);T(y.$$.fragment,d),A=!0}},o(d){G(m),G(r.$$.fragment,d),G(c.$$.fragment,d);for(let h=0;h<a.length;h+=1)G(a[h]);G(y.$$.fragment,d),A=!1},d(d){m&&m.d(d),d&&C(e),d&&C(n),q(r),q(c);for(let h=0;h<a.length;h+=1)a[h].d();q(y)}}}function Nt(t,e,n){let l,s="O",r=[[null,null,null],[null,null,null],[null,null,null]];const f=o=>{let a=!0;for(let _=0;_<3;_++){if(a=a&&o[0][_]&&o[1][_]&&o[2][_],o[_][0]&&o[_][0]===o[_][1]&&o[_][1]===o[_][2])return o[_][0];if(o[0][_]&&o[0][_]===o[1][_]&&o[1][_]===o[2][_])return o[0][_]}return o[0][0]===o[1][1]&&o[1][1]===o[2][2]||o[0][2]===o[1][1]&&o[1][1]===o[2][0]?o[1][1]:(console.log("hi "+a),a?"Draw":null)},i=(o,a)=>_=>{s==="O"?n(1,s="X"):n(1,s="O"),n(0,r[o][a]=_,r)};let c=!0;const u=()=>{n(2,c=!c),n(1,s="O"),n(0,r=[[null,null,null],[null,null,null],[null,null,null]])};return t.$$.update=()=>{t.$$.dirty&1&&n(3,l=f(r))},[r,s,c,l,i,u]}class Rt extends Y{constructor(e){super(),V(this,e,Nt,At,j,{})}}function Bt(t){let e,n,l;return n=new Rt({}),{c(){e=k("main"),F(n.$$.fragment),v(e,"class","svelte-1qv9lu9")},m(s,r){D(s,e,r),X(n,e,null),l=!0},p:S,i(s){l||(T(n.$$.fragment,s),l=!0)},o(s){G(n.$$.fragment,s),l=!1},d(s){s&&C(e),q(n)}}}class Pt extends Y{constructor(e){super(),V(this,e,null,Bt,j,{})}}new Pt({target:document.getElementById("app")});
